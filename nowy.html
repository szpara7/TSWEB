<!doctype html>
<html lang="en">

<head>
  <title>Title</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
  <div>
    <form method="post" action="switcher/AuthorSwitcher.php?q=Add">
      <input type="text" name="first_name" placeholder="first_name">
      <input type="text" name="last_name" placeholder="last_name">
      <input type="text" name="nationality" placeholder="nationality">
      <input type="text" name="description" placeholder="desc">
      <input type="submit" value="Dodaj">
    </form>
  </div>

  <script>
    // $.ajax({
    //         type: "POST",
    //         url: "switcher/AuthorAdd.php",
    //         data: {
    //             first_name : 'author.first_name',
    //             last_name : 'author.last_name',
    //             description : 'author.description',
    //             nationality : 'author.nationality'
    //         },
    //         success: function() {
    //             alert("Dodano");
    //         },
    //         error: function() {
    //             alert("Nie dodano");
    //         }
    //     });
    // fetch('/switcher/AuthorAdd.php', {
    //     method: 'post',
    //     body: {
    //       first_name: 'author.first_name',
    //       last_name: 'author.last_name',
    //       description: 'author.description',
    //       nationality: 'author.nationality'
    //     }
    //   }).then(s => alert(s.status));

    var obj = {
      first_name: 'author.first_name',
      last_name: 'author.last_name',
      description: 'author.description',
      nationality: 'author.nationality'
    };

    var data = new FormData();
    data.append("json", obj);


    fetch("switcher/AuthorSwitcher.php?q=Add", {

      method: 'POST',
      body: data
    }).then(dat => dat.json())
    .then(ress => alert(ress))
    .catch(e => alert(e.message));

  </script>

</html>